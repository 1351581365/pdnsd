.\" This manpage has been automatically generated by docbook2man-spec
.\" from a DocBook document.  docbook2man-spec can be found at:
.\" <http://shell.ipoline.com/~elmert/hacks/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.\" This manpage has been edited manually by Paul Rombouts.
.TH "PDNSD-CTL" "8" "28 July 2003" "" ""
.SH NAME
pdnsd-ctl \- controls pdnsd
.SH SYNOPSIS
.sp
\fBpdnsd-ctl\fR [ \fBcommands\fR ] 
.SH "DESCRIPTION"
.PP
\fBpdnsd-ctl\fR controls pdnsd, a proxy dns server 
with permanent caching.
.SH "COMMANDS"
.TP
\fBhelp\fR
[no options]

print short help
.TP
\fBversion\fR
[no options]

print version info
.TP
\fBstatus\fR
[no options]

print pdnsd's status
.TP
\fBserver\fR
(index|label) (up|down|retest) [dns1,dns2,...]

Set the status of the servers with the given index or label to up or down, or
force a retest. The index is assigned in the order of definition in pdnsd.cache
starting with 0. Use the status command to view the indexes. You can specify all
instead of an index to perform the action for all servers registered with pdnsd.
.IP
An optional third argument can be given consisting of a comma delimited list of
IP addresses. This list will replace the addresses of name servers used by pdnsd
for the given server section. This feature is useful for run-time configuration
of pdnsd with dynamic DNS data in scripts called by ppp or DHCP clients.
.TP
\fBrecord\fR
name (delete|invalidate)

Delete or invalidate the record of the given domain if it is 
in the cache.
.TP
\fBsource\fR
fn owner [ttl] [(on|off)]

Load a hosts-style file. Works like using the pdnsd source option.
Owner and ttl are used as in the source section. ttl has a default
of 900 (it does not need to be specified). The last option corresponds
to the serve_aliases option, and is off by default. fn is the filename.
.TP
\fBadd\fR
a addr name [ttl]
.TP
\fBadd\fR
aaaa addr name [ttl]
.TP
\fBadd\fR
ptr host name [ttl]
.TP
\fBadd\fR
cname host name [ttl]

Add a record of the given type to the pdnsd cache, replacing existing
records for the same name and type. The 2nd argument corresponds
to the argument of the option in the rr section that is named like
the first option. The ttl is optional, the default is 900 seconds.
If you want no other record than the newly added in the cache, do
pdnsd-ctl record <name> delete
before adding records.
.TP
\fBstatus\fR
[no options]

print pdnsd's status
.TP
\fBneg\fR
name [type] [ttl]

Add a negative cached record to pdnsd's cache, replacing existing
records for the same name and type. If no type is given, the whole
domain is cached negative. For negative cached records, errors are
immediately returned on a query, without querying other servers first.
The ttl is optional, the default is 900 seconds.
.TP
\fBlist-rrtypes\fR
[no options]

List available rr types for the neg command. Note that those are only
used for the neg command, not for add!
.SH "BUGS"
.PP
Mail the authors if you find any.
.SH "AUTHORS"
.PD 0
.PP
Thomas Moestl<tmoestl@gmx.net>
.PP
Paul Rombouts<p.a.rombouts@home.nl> (for versions 1.1.7a-par and later)
.SH "SEE ALSO"

\fBpdnsd(8)\fR
